"use strict";(self.webpackChunkcheese_demo=self.webpackChunkcheese_demo||[]).push([[227],{915:function(i,e,t){t.d(e,{B:function(){return r},a:function(){return a}});var a=[["a8","b8","c8","d8","e8","f8","g8","h8"],["a7","b7","c7","d7","e7","f7","g7","h7"],["a6","b6","c6","d6","e6","f6","g6","h6"],["a5","b5","c5","d5","e5","f5","g5","h5"],["a4","b4","c4","d4","e4","f4","g4","h4"],["a3","b3","c3","d3","e3","f3","g3","h3"],["a2","b2","c2","d2","e2","f2","g2","h2"],["a1","b1","c1","d1","e1","f1","g1","h1"]],r={a:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},b:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},c:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},d:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},e:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},f:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},g:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""},h:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:""}}},227:function(i,e,t){t.r(e),t.d(e,{analysis_board:function(){return E}});var a=t(671),r=t(466),n=t(885),s=t(627),o=t(681),c=(t(915),function(i,e,t,a,r){var n="",s="",o="";if(i===e&&t===a)return{square:i+t,piece:s,color:o};var c=i.charCodeAt(0),l=e.charCodeAt(0),d=parseInt(t),u=parseInt(a),h=c+1,g=c-1,v=d+1,f=d-1,b="h".charCodeAt(0),m="a".charCodeAt(0);if(l>c&&u>d)for(;(h<=l&&h<=b||v<=u&&v<=8)&&(s=r[(n=String.fromCharCode(h)+v.toString())[0]][n[1]],o=p(s),""===s);)h++,v++;else if(l>c&&u<d)for(;(h<=l&&h<=b||f>=u&&f>=1)&&(s=r[(n=String.fromCharCode(h)+f.toString())[0]][n[1]],o=p(s),""===s);)h++,f--;else if(l<c&&u>d)for(;(g>=l&&g>=m||v<=u&&v<=8)&&(s=r[(n=String.fromCharCode(g)+v.toString())[0]][n[1]],o=p(s),""===s);)g--,v++;else if(l<c&&u<d)for(;(g>=l&&g>=m||f>=u&&f>=1)&&(s=r[(n=String.fromCharCode(g)+f.toString())[0]][n[1]],o=p(s),""===s);)g--,f--;return{square:n,piece:s,color:o}}),l=function(i,e,t,a){var r="",n="",s="";if(i===e)return{square:t+i,piece:n,color:s};var o=parseInt(i),c=parseInt(e),l=o+1,d=o-1;if(o<c)for(;l<=c&&(n=a[(r=t+l.toString())[0]][r[1]],s=p(n),""===n);l++);else for(;d>=c&&(n=a[(r=t+d.toString())[0]][r[1]],s=p(n),""===n);d--);return{square:r,piece:n,color:s}},d=function(i,e,t,a){var r="",n="",s="";if(i===e&&a)return{square:i+t,piece:n,color:s};var o=i.charCodeAt(0),c=e.charCodeAt(0),l=o+1,d=o-1;if(o<c)for(;l<=c&&(n=a[(r=String.fromCharCode(l)+t)[0]][r[1]],s=p(n),""===n);l++);else for(;d>=c&&(n=a[(r=String.fromCharCode(d)+t)[0]][r[1]],s=p(n),""===n);d--);return{square:r,piece:n,color:s}},u=function(i,e){var t=v(i,e),a=(0,n.Z)(t,4),r=a[0],s=a[1],o=a[2],c=a[3],l=f(r,s,o,c),d=(0,n.Z)(l,2),u=d[0];if(u===d[1]&&1===u)return!0;if(r===o){if(1===Math.abs(parseInt(s)-parseInt(c)))return!0}else if(s===c&&1===Math.abs(r.charCodeAt(0)-o.charCodeAt(0)))return!0;return!1},h=function(i,e,t,a,r){return t!==e&&(!("w"!==e||!r.includes(i))||!("b"!==e||!a.includes(i)))},g=function(i,e,t,a){var r=v(e,t),s=(0,n.Z)(r,4),o=s[0],c=s[1],l=s[2],d=s[3],u=JSON.parse(JSON.stringify(a));return u[o][c]="",u[l][d]=i,u},p=function(i){return""===i?"":i.toLowerCase()===i?"b":"w"},v=function(i,e){var t=b(i),a=(0,n.Z)(t,2),r=a[0],s=a[1],o=b(e),c=(0,n.Z)(o,2);return[r,s,c[0],c[1]]},f=function(i,e,t,a){return[Math.abs(i.charCodeAt(0)-t.charCodeAt(0)),Math.abs(parseInt(e)-parseInt(a))]},b=function(i){return 2!==i.length&&"number"!==typeof parseInt(i[1])?(console.error("Invalid square given"),[null,null]):[i[0],i[1]]},m=function(i,e,t,a,r){var n={square:"",piece:"",color:""};return"up"===a?n=l(e,"8",i,r):"down"===a&&(n=l(e,"1",i,r),"w"===t&&"K"===n.piece&&(n=l((parseInt(e)-2).toString(),"1",i,r)),"b"===t&&"k"===n.piece&&(n=l((parseInt(e)-2).toString(),"1",i,r))),!(!u(i+e,n.square)||!h(n.piece,t,n.color,["Q","R","K"],["q","r","k"]))||!!h(n.piece,t,n.color,["Q","R"],["q","r"])},k=function(i,e,t,a,r){var n={square:"",piece:"",color:""};return"left"===a?n=d(i,"a",e,r):"right"===a&&(n=d(i,"h",e,r)),!(!u(i+e,n.square)||!h(n.piece,t,n.color,["Q","R","K"],["q","r","k"]))||!!h(n.piece,t,n.color,["Q","R"],["q","r"])},P=function(i,e,t){return e>8||e<1||i>"h".charCodeAt(0)||i<"a".charCodeAt(0)?"":t[String.fromCharCode(i)][e.toString()]},w=function(i,e,t,a,r){var s,o=function(i,e){var t=b(i),a=(0,n.Z)(t,2),r=a[0],s=a[1],o=r.charCodeAt(0),c=parseInt(s),l="h".charCodeAt(0),d="a".charCodeAt(0);if("right-up"===e)for(;o<l&&c<8;)o++,c++;else if("right-down"===e)for(;o<l&&c>1;)o++,c--;else if("left-up"===e)for(;o>d&&c<8;)o--,c++;else if("left-down"===e)for(;o>d&&c>1;)o--,c--;return[String.fromCharCode(o),c.toFixed()]}(i+e,a),l=(0,n.Z)(o,2),d=l[0],g=l[1];if(s=c(i,d,e,g,r),u(i+e,s.square)){if(function(i,e,t){return"w"===i&&"p"===e&&("right-up"===t||"left-up"===t)||"b"===i&&"P"===e&&("right-down"===t||"left-down"===t)}(t,s.piece,a))return!0;if(h(s.piece,t,s.color,["Q","B","K"],["q","b","k"]))return!0}return!!h(s.piece,t,s.color,["Q","B"],["q","b"])},C=function(i,e,t){var a=b(i),r=(0,n.Z)(a,2),s=r[0],o=r[1];return!!m(s,o,e,"up",t)||(!!m(s,o,e,"down",t)||(!!k(s,o,e,"right",t)||(!!k(s,o,e,"left",t)||(!!w(s,o,e,"right-up",t)||(!!w(s,o,e,"right-down",t)||(!!w(s,o,e,"left-up",t)||(!!w(s,o,e,"left-down",t)||!!function(i,e,t,a){var r=i.charCodeAt(0),n=parseInt(e);return"w"===t?"n"===P(r+1,n+2,a)||"n"===P(r-1,n+2,a)||"n"===P(r+1,n-2,a)||"n"===P(r-1,n-2,a)||"n"===P(r+2,n+1,a)||"n"===P(r-2,n+1,a)||"n"===P(r+2,n-1,a)||"n"===P(r-2,n-1,a):"b"===t?"N"===P(r+1,n+2,a)||"N"===P(r-1,n+2,a)||"N"===P(r+1,n-2,a)||"N"===P(r-1,n-2,a)||"N"===P(r+2,n+1,a)||"N"===P(r-2,n+1,a)||"N"===P(r+2,n-1,a)||"N"===P(r-2,n-1,a):void 0}(s,o,e,t))))))))},q=function(){function i(){(0,a.Z)(this,i),this.boardMap=(0,o.f)(),this.whitesTurn=!0,this.movingPiece="",this.movingPiecesOrigin="",this.movingPiecesDest="",this.movingPiecesColor="",this.canWhiteEnPassant=[!1,""],this.canBlackEnPassant=[!1,""],this.canWhiteCastleKingSide=!0,this.canWhiteCastleQueenSide=!0,this.canBlackCastleKingSide=!0,this.canBlackCastleQueenSide=!0,this.IsPromoting=!1,this.whiteKingsPosition="e1",this.blackKingsPosition="e8"}return(0,r.Z)(i,[{key:"PromotePawn",value:function(i){var e=g(i,this.movingPiecesOrigin,this.movingPiecesDest,this.boardMap);this.boardMap=JSON.parse(JSON.stringify(e)),this.whitesTurn=!this.whitesTurn}},{key:"newMove",value:function(){var i=g(this.movingPiece,this.movingPiecesOrigin,this.movingPiecesDest,this.boardMap);this.boardMap=JSON.parse(JSON.stringify(i)),this.whitesTurn=!this.whitesTurn}},{key:"ValidateMove",value:function(i,e,t){var a=!1,r=!1,n=!1,s=!1;if(i===e)return{isValid:a,isEnPassant:r,isCastle:n,isPromotion:s};var o=this.movingPiecesColor;if(this.movingPiecesColor=p(t),this.whitesTurn&&"w"!==this.movingPiecesColor)return{isValid:a,isEnPassant:r,isCastle:n,isPromotion:s};if(!this.whitesTurn&&"b"!==this.movingPiecesColor)return{isValid:a,isEnPassant:r,isCastle:n,isPromotion:s};if(this.IsPromoting)return{isValid:a,isEnPassant:r,isCastle:n,isPromotion:s};switch(t){case"K":var c=this.validateKingMove(i,e,"w");a=c.isValid,n=c.isCastle;break;case"k":var l=this.validateKingMove(i,e,"b");a=l.isValid,n=l.isCastle;break;case"Q":a=this.validateQueenMove(i,e,"w");break;case"q":a=this.validateQueenMove(i,e,"b");break;case"R":a=this.validateRookMove(i,e,"w");break;case"r":a=this.validateRookMove(i,e,"b");break;case"B":a=this.validateBishopMove(i,e,"w");break;case"b":a=this.validateBishopMove(i,e,"b");break;case"N":a=this.validateKnightMove(i,e,"w");break;case"n":a=this.validateKnightMove(i,e,"b");break;case"P":var d=this.validatePawnMove(i,e,"w");a=d.isValid,r=d.isEnPassant,s=d.isPromotion;break;case"p":var u=this.validatePawnMove(i,e,"b");a=u.isValid,r=u.isEnPassant,s=u.isPromotion}if(a){"K"===t?(this.whiteKingsPosition=e,this.canWhiteCastleKingSide=!1,this.canWhiteCastleQueenSide=!1):"k"===t&&(this.blackKingsPosition=e,this.canBlackCastleKingSide=!1,this.canBlackCastleQueenSide=!1);var h=JSON.parse(JSON.stringify(this.boardMap)),v=function(i,e,t,a,r,n){var s=g(i,e,t,n),o=p(i);return"w"===o?!C(a,"w",s):"b"===o?!C(r,"b",s):void 0}(t,i,e,this.whiteKingsPosition,this.blackKingsPosition,h);return v?n?("K"===t?(this.boardMap.e[1]="","g1"===e||"h1"===e?(this.boardMap.g[1]="K",this.boardMap.f[1]="R",this.boardMap.h[1]=""):"c1"!==e&&"a1"!==e||(this.boardMap.c[1]="K",this.boardMap.d[1]="R",this.boardMap.a[1]="")):"k"===t&&(this.boardMap.e[8]="","g8"===e||"h8"===e?(this.boardMap.g[8]="k",this.boardMap.f[8]="r",this.boardMap.h[8]=""):"c8"!==e&&"a8"!==e||(this.boardMap.c[8]="k",this.boardMap.d[8]="r",this.boardMap.a[8]="")),this.whitesTurn=!this.whitesTurn,{isValid:a,isEnPassant:r,isCastle:n,isPromotion:s}):(s||(r&&("P"===t?this.boardMap[e[0]][(parseInt(e[1])-1).toString()]="":"p"===t&&(this.boardMap[e[0]][(parseInt(e[1])+1).toString()]="")),"P"!==t&&"p"!==t&&(this.canBlackEnPassant=[!1,""],this.canWhiteEnPassant=[!1,""]),this.movingPiece=t,this.movingPiecesOrigin=i,this.movingPiecesDest=e,this.newMove()),{isValid:a,isEnPassant:r,isCastle:n,isPromotion:s}):{isValid:!1,isEnPassant:r,isCastle:n,isPromotion:s}}return this.movingPiecesColor=o,{isValid:a,isEnPassant:r,isCastle:n,isPromotion:s}}},{key:"validatePawnMove",value:function(i,e,t){var a=v(i,e),r=!1,s=!1,o=!1;if(a.includes(null))return console.log("invalid square input"),{isValid:r,isEnPassant:s,isPromotion:o};var c=(0,n.Z)(a,4),d=c[0],u=c[1],h=c[2],g=c[3],b=f(d,u,h,g),m=(0,n.Z)(b,2),k=m[0],P=m[1];if(k>1||P>2)return{isValid:r,isEnPassant:s,isPromotion:o};if(s=function(i,e,t,a,r){return"w"===a?"5"===e&&"6"===t&&"p"===r[i][e]:"b"===a?"4"===e&&"3"===t&&"P"===r[i][e]:void 0}(h,u,g,t,this.boardMap),o=function(i,e){return("8"===e||"1"===e)&&("w"===i&&"8"===e||"b"===i&&"1"===e)}(t,g),"w"===t){if(2===P&&"2"!==u)return{isValid:r,isEnPassant:s,isPromotion:o};if(!(parseInt(g)>parseInt(u)))return{isValid:r,isEnPassant:s,isPromotion:o};if(k===P)return s&&this.canWhiteEnPassant[0]&&""===this.boardMap[h][g]&&h===this.canWhiteEnPassant[1]?(this.canWhiteEnPassant=[!1,""],{isValid:r=!0,isEnPassant:s,isPromotion:o}):"b"===p(this.boardMap[h][g])?{isValid:r=!0,isEnPassant:s,isPromotion:o}:{isValid:r,isEnPassant:s,isPromotion:o};if(""!==l(u,g,d,this.boardMap).color)return{isValid:r,isEnPassant:s,isPromotion:o}}else if("b"===t){if(2===P&&"7"!==u)return{isValid:r,isEnPassant:s,isPromotion:o};if(!(parseInt(g)<parseInt(u)))return{isValid:r,isEnPassant:s,isPromotion:o};if(k===P)return s&&this.canBlackEnPassant[0]&&""===this.boardMap[h][g]&&h===this.canBlackEnPassant[1]?(this.canBlackEnPassant=[!1,""],{isValid:r=!0,isEnPassant:s,isPromotion:o}):"w"===p(this.boardMap[h][g])?{isValid:r=!0,isEnPassant:s,isPromotion:o}:{isValid:r,isEnPassant:s,isPromotion:o};if(""!==l(u,g,d,this.boardMap).color)return{isValid:r,isEnPassant:s,isPromotion:o}}return 2===P?"w"===t?this.canBlackEnPassant=[!0,d]:"b"===t&&(this.canWhiteEnPassant=[!0,d]):(this.canWhiteEnPassant=[!1,""],this.canBlackEnPassant=[!1,""]),{isValid:r=!0,isEnPassant:s,isPromotion:o}}},{key:"validateKnightMove",value:function(i,e,t){var a=v(i,e);if(a.includes(null))return console.log("invalid square input"),!1;var r=(0,n.Z)(a,4),s=r[0],o=r[1],c=r[2],l=r[3],d=f(s,o,c,l),u=(0,n.Z)(d,2),h=u[0],g=u[1];return(1===h&&2===g||2===h&&1===g)&&t!==p(this.boardMap[c][l])}},{key:"validateQueenMove",value:function(i,e,t){var a=this.validateRookMove(i,e,t),r=this.validateBishopMove(i,e,t);return!(!a&&!r)}},{key:"validateKingMove",value:function(i,e,t){var a=!1,r=v(i,e),s=(0,n.Z)(r,4),o=s[0],c=s[1],l=s[2],d=s[3],u=f(o,c,l,d),h=(0,n.Z)(u,2),g=h[0],p=h[1],b=function(i,e,t,a,r,n,s,o){if("w"===t){if("e1"!==i||"g1"!==e&&"h1"!==e&&"c1"!==e&&"a1"!==e||"R"!==a.h[1]&&"R"!==a.a[1])return!1;if("g1"===e||"h1"===e){if(!r)return!1;if(""!==a.f[1]||""!==a.g[1])return!1;var c=C("f1","w",a),l=C("g1","w",a);return!c&&!l}if("c1"===e||"a1"===e){if(!n)return!1;if(""!==a.d[1]||""!==a.c[1])return!1;var d=C("d1","w",a),u=C("c1","w",a);return!d&&!u}}else if("b"===t){if("e8"!==i||"g8"!==e&&"h8"!==e&&"c8"!==e&&"a8"!==e||"r"!==a.h[8]&&"r"!==a.a[8])return!1;if("g8"===e||"h8"===e){if(!s)return!1;if(""!==a.f[8]||""!==a.g[8])return!1;var h=C("f8","b",a),g=C("g8","b",a);return!h&&!g}if("c8"===e||"a8"===e){if(!o)return!1;if(""!==a.d[8]||""!==a.c[8])return!1;var p=C("d8","b",a),v=C("c8","b",a);return!p&&!v}}}(i,e,t,this.boardMap,this.canWhiteCastleKingSide,this.canWhiteCastleQueenSide,this.canBlackCastleKingSide,this.canBlackCastleQueenSide);return p>1?{isValid:a,isCastle:b}:g>1?b?{isValid:a=!0,isCastle:b}:{isValid:a,isCastle:b}:(a=this.validateQueenMove(i,e,t))&&C(e,t,this.boardMap)?{isValid:a=!1,isCastle:b}:{isValid:a,isCastle:b}}},{key:"validateBishopMove",value:function(i,e,t){var a=v(i,e);if(a.includes(null))return console.log("invalid square input"),!1;var r=(0,n.Z)(a,4),s=r[0],o=r[1],l=r[2],d=r[3],u=f(s,o,l,d),h=(0,n.Z)(u,2);if(h[0]!==h[1])return!1;var g=c(s,l,o,d,this.boardMap);return t!==g.color&&(""===g.color||g.color===t||g.square===e)}},{key:"validateRookMove",value:function(i,e,t){var a=v(i,e);if(a.includes(null))return console.log("invalid square input"),!1;var r=(0,n.Z)(a,4),s=r[0],o=r[1],c=r[2],u=r[3];if(s!==c&&o!==u)return!1;if(o===u){var h=d(s,c,o,this.boardMap);if(t===h.color)return!1;if(""!==h.color&&h.color!==t&&h.square!==e)return!1}else if(s===c){var g=l(o,u,s,this.boardMap);if(t===g.color)return!1;if(""!==g.color&&g.color!==t&&g.square!==e)return!1}return"a1"===i&&(this.canWhiteCastleQueenSide=!1),"h1"===i&&(this.canWhiteCastleKingSide=!1),"a8"===i&&(this.canBlackCastleQueenSide=!1),"h8"===i&&(this.canBlackCastleKingSide=!1),!0}}]),i}(),y=function(i){setTimeout((function(){i.classList.add("dragging","invisible")}),0)},M=function(i){i.classList.remove("dragging","invisible")},S=function(i,e,t){var a=e.querySelector(".dragging"),r=a.parentElement.id,s=i.id,c=a.id,l=t.ValidateMove(r,s,c),d=l.isValid,u=l.isEnPassant,h=l.isCastle,g=l.isPromotion;if(d){if(u){var v=function(i,e,t){if("w"===p(e)){var a=i[0]+(parseInt(i[1])-1).toString();return t.querySelector("#".concat(a))}if("b"===p(e)){var r=i[0]+(parseInt(i[1])+1).toString();return t.querySelector("#".concat(r))}}(s,c,e);return v.innerHTML="",i.appendChild(a),void a.classList.remove("dragging")}if(h&&("K"===c||"k"===c)){var f=function(i,e,t){var a,r,n,s;return"K"===i?(a=t.querySelector("#e1"),"g1"===e||"h1"===e?(r=t.querySelector("#g1"),n=t.querySelector("#h1"),s=t.querySelector("#f1")):"c1"!==e&&"a1"!==e||(r=t.querySelector("#c1"),n=t.querySelector("#a1"),s=t.querySelector("#d1"))):"k"===i&&(a=t.querySelector("#e8"),"g8"===e||"h8"===e?(r=t.querySelector("#g8"),n=t.querySelector("#h8"),s=t.querySelector("#f8")):"c8"!==e&&"a8"!==e||(r=t.querySelector("#c8"),n=t.querySelector("#a8"),s=t.querySelector("#d8"))),[a,r,n,s]}(c,s,e),b=(0,n.Z)(f,4),m=b[0],k=b[1],P=b[2],w=b[3];m.innerHTML="",k.appendChild(a);var C=P.firstElementChild;return P.innerHTML="",w.appendChild(C),void a.classList.remove("dragging")}if(g){t.IsPromoting=!0,a.remove();var q,S,E=s[1],B=i.parentElement,K="";"p"===c&&(K=(parseInt(s[1])+3).toString(),q=e.querySelector("#".concat(s[0]+K)),S=q.parentElement);var x=function(i){var e="<div class='promotion-list'>\n       <img id=\"Q\" alt='white queen' class=\"piece promoting-piece\" src=".concat(o.p.Q,'>\n       <img id="R" alt=\'white rook\' class="piece promoting-piece" src=').concat(o.p.R,'>\n       <img id="B" alt=\'white bishop\' class="piece promoting-piece" src=').concat(o.p.B,'>\n       <img id="N" alt=\'white knight\' class="piece promoting-piece" src=').concat(o.p.N,">\n     </div>"),t="<div class='promotion-list'>\n      <img id=\"n\" alt='black knight' class=\"piece promoting-piece\" src=".concat(o.p.n,'>\n      <img id="b" alt=\'black bishop\' class="piece promoting-piece" src=').concat(o.p.b,'>\n      <img id="r" alt=\'black rook\' class="piece promoting-piece" src=').concat(o.p.r,'>\n      <img id="q" alt=\'black queen\' class="piece promoting-piece" src=').concat(o.p.q,">\n     </div>"),a=document.createElement("div");return"8"===i?(a.innerHTML=e,a.firstElementChild):"1"===i?(a.innerHTML=t,a.firstElementChild):void 0}(E);return"P"===c?B.replaceChild(x,i):S.replaceChild(x,q),void x.addEventListener("click",(function(e){var a=e.target;a.classList.remove("promoting-piece"),a.setAttribute("draggable","true"),a.addEventListener("dragstart",(function(){y(a)})),a.addEventListener("dragend",(function(){M(a)})),i.innerHTML="",i.appendChild(a),"P"===c?B.replaceChild(i,x):S.replaceChild(q,x),t.PromotePawn(a.id),t.IsPromoting=!1}))}return i.innerHTML="",i.appendChild(a),void a.classList.remove("dragging")}a.parentElement.id!==i.id&&a.classList.remove("dragging")},E=function(){function i(e){(0,a.Z)(this,i),(0,s.r)(this,e),this.validator=new q,this.light="#E0C35A",this.dark="#7A6A31"}return(0,r.Z)(i,[{key:"componentDidLoad",value:function(){var i=this;this.analysisBoardContainer.innerHTML=(0,o.g)(this.light,this.dark,"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR");var e=this.analysisBoardContainer.querySelectorAll(".piece"),t=this.analysisBoardContainer.querySelectorAll(".square");e.forEach((function(e){e.addEventListener("dragstart",(function(){y(e)})),e.addEventListener("dragend",(function(){M(e)})),e.addEventListener("click",(function(){!function(i,e,t){if(i.classList.contains("dragging"))i.classList.remove("dragging");else{var a=e.querySelector(".dragging");if(null===a)i.classList.add("dragging");else{var r=a.parentElement;S(r,e,t)}}}(e,i.analysisBoardContainer,i.validator)}))})),t.forEach((function(e){e.addEventListener("dragover",(function(i){i.preventDefault()})),e.addEventListener("drop",(function(t){t.preventDefault(),S(e,i.analysisBoardContainer,i.validator)})),e.addEventListener("click",(function(){null!==i.analysisBoardContainer.querySelector(".dragging")&&S(e,i.analysisBoardContainer,i.validator)}))}))}},{key:"render",value:function(){var i=this;return(0,s.h)("div",{ref:function(e){return i.analysisBoardContainer=e},id:"analysis-board-container"})}}]),i}();E.style="#analysis-board-container{position:relative;width:400px;height:400px;border:1px solid black}.row{display:flex;flex-direction:row;width:100%;height:50px}.promotion-list{display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10;height:210px;width:55px}.square{width:50px;height:50px;border:0.1px black}.list-squares{width:50px;height:50px;border:0.1px black;background-color:lightgray}.piece{display:flex;justify-content:center;align-items:center;touch-action:none;cursor:grab;cursor:move}.promoting-piece{background-color:gray}.piece:active{cursor:grabbing}.dragging{transform:scale(1.2);transition:0.2s ease-in-out}.invisible{display:none}@media (max-width: 550px){#analysis-board-container{width:360px;height:360px}.row{height:45px}.square{width:45px;height:45px}.piece{height:40px}}"},681:function(i,e,t){t.d(e,{f:function(){return o},g:function(){return c},p:function(){return n}});var a,r=t(915);!function(i){i.whitePawn="P",i.blackPawn="p",i.whiteRook="R",i.blackRook="r",i.whiteKnight="N",i.blackKnight="n",i.whiteBishop="B",i.blackBishop="b",i.whiteQueen="Q",i.blackQueen="q",i.whiteKing="K",i.blackKing="k"}(a||(a={}));var n={K:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Chess_klt45.svg/45px-Chess_klt45.svg.png",k:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Chess_kdt45.svg/45px-Chess_kdt45.svg.png",Q:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Chess_qlt45.svg/45px-Chess_qlt45.svg.png",q:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Chess_qdt45.svg/45px-Chess_qdt45.svg.png",R:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Chess_rlt45.svg/45px-Chess_rlt45.svg.png",r:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Chess_rdt45.svg/45px-Chess_rdt45.svg.png",B:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Chess_blt45.svg/45px-Chess_blt45.svg.png",b:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Chess_bdt45.svg/45px-Chess_bdt45.svg.png",N:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/70/Chess_nlt45.svg/45px-Chess_nlt45.svg.png",n:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Chess_ndt45.svg/45px-Chess_ndt45.svg.png",P:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/45/Chess_plt45.svg/45px-Chess_plt45.svg.png",p:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Chess_pdt45.svg/45px-Chess_pdt45.svg.png"},s=function(i,e,t,r,s){switch(i){case a.whitePawn:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="P" alt=\'white pawn\' class="piece" draggable="true" src=').concat(n.P,"></div>");case a.blackPawn:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="p" alt=\'black pawn\' class="piece" draggable="true" src=').concat(n.p,"></div>");case a.whiteRook:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="R" alt=\'white rook\' class="piece" draggable="true" src=').concat(n.R,"></div>");case a.blackRook:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="r" alt=\'black rook\' class="piece" draggable="true" src=').concat(n.r,"></div>");case a.whiteKnight:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="N" alt=\'white knight\' class="piece" draggable="true" src=').concat(n.N,"></div>");case a.blackKnight:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="n" alt=\'black knight\' class="piece" draggable="true" src=').concat(n.n,"></div>");case a.whiteBishop:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="B" alt=\'white bishop\' class="piece" draggable="true" src=').concat(n.B,"></div>");case a.blackBishop:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="b" alt=\'black bishop\' class="piece" draggable="true" src=').concat(n.b,"></div>");case a.whiteQueen:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="Q" alt=\'white queen\' class="piece" draggable="true" src=').concat(n.Q,"></div>");case a.blackQueen:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="q" alt=\'black queen\' class="piece" draggable="true" src=').concat(n.q,"></div>");case a.whiteKing:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="K" alt=\'white king\' class="piece" draggable="true" src=').concat(n.K,"></div>");case a.blackKing:return'<div id="'.concat(t[r][s],'" class="square" style="background-color: ').concat(e,'"><img id="k" alt=\'black king\' class="piece" draggable="true" src=').concat(n.k,"></div>");default:return""}},o=function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",e=i.split("/"),t=Object.assign({},r.B),a="",n=0;n<r.a.length;n++)for(var s=0;s<r.a.length;s++){a=e[n][s];var o=r.a[n][s],c=o[0],l=o[1];if("string"===typeof a&&a.match(/[a-zA-Z]/))t[c][l]=a;else if("number"===typeof parseInt(a))for(var d=0;d<parseInt(a);d++)s++}return t},c=function(i,e,t){for(var a=t.split("/"),n=[i,e],o=0,c="",l="",d=0;d<r.a.length;d++){l+='<div class="row">';for(var u=0;u<r.a.length;u++){var h=a[d][u];if(c=n[o],"string"===typeof h&&h.match(/[a-zA-Z]/))l+=s(h,c,r.a,d,u),o=(o+1)%2;else if("number"===typeof parseInt(h))for(var g=0;g<parseInt(h);g++)l+='<div id="'.concat(r.a[d][u],'" class="square" style="background-color: ').concat(c,'"></div>'),c=n[o=(o+1)%2],u++}o=(o+1)%2,l+="</div>"}return l}}}]);
//# sourceMappingURL=227.d15b6563.chunk.js.map